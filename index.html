<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ²ì†ì˜ ì‘ì€ ìš©ì‚¬ 3D</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ë²„ì „ ì •ë³´ ìŠ¤íƒ€ì¼ */
        #version {
            position: absolute;
            bottom: 10px;
            right: 10px;
            color: rgba(255, 255, 255, 0.5);
            font-family: monospace;
            font-size: 14px;
            pointer-events: none;
            z-index: 200;
        }
        /* ë””ë²„ê·¸ UI ìŠ¤íƒ€ì¼ */
        #debug-ui {
            position: absolute;
            top: 100px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 8px;
            pointer-events: auto;
            z-index: 200;
            font-family: sans-serif;
            font-size: 12px;
        }
        #debug-ui h3 { margin: 0 0 10px 0; color: #ffd700; text-align: center; }
        #debug-ui label { display: block; margin-bottom: 8px; }
        #debug-ui input { vertical-align: middle; width: 100px; cursor: pointer; }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- ë²„ì „ ì •ë³´ -->
        <div id="version">Ver 1.3.0 (Debug UI Added)</div>

        <!-- ë””ë²„ê·¸ UI (ì†ë„ ë° ì í”„ ì¡°ì ˆ) -->
        <div id="debug-ui">
            <h3>ğŸ› ï¸ ê²Œì„ ì¡°ì ˆ</h3>
            <label>ì  ì†ë„: <input type="range" id="dbg-enemy-speed" min="0.1" max="5" step="0.1" value="1"></label>
            <label>ì í”„ ë†’ì´: <input type="range" id="dbg-jump-height" min="5" max="30" step="1" value="12"></label>
            <label>ê³µê²© ì†ë„: <input type="range" id="dbg-attack-speed" min="0.5" max="3" step="0.1" value="1"></label>
        </div>

        <!-- UI ì˜¤ë²„ë ˆì´ -->
        <div id="ui-overlay">
            <div class="hp-bar-outer"><div id="hp-fill"></div></div>
            <div class="stats-panel">
                <div class="money-tag">ğŸ’° <span id="money-val">0</span></div>
                <div>LV: <span id="lv-val">1</span></div>
                <div style="font-size: 14px; color: #aaa;">EXP: <span id="xp-val">0</span> / <span id="next-xp-val">5</span></div>
            </div>
            <div id="timer">Stage 1 - 01:00 | ë‚¨ì€ ì : 5</div>
            <div id="charge-bar"><div id="charge-fill"></div></div>
            <div id="fall-alert">âš ï¸ ìœ„í—˜! ì›”ë“œ ë°–ì…ë‹ˆë‹¤! âš ï¸</div>
        </div>

        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="overlay">
            <h1 style="font-size: 60px; color: #4CAF50; margin-bottom: 10px;">ìˆ²ì†ì˜ ì‘ì€ ìš©ì‚¬ 3D</h1>
            <p style="font-size: 20px; color: #aaa;">- ë””ë²„ê·¸ & ë¹„ì£¼ì–¼ ì—…ë°ì´íŠ¸ -</p>
            <button onclick="initGame()">ëª¨í—˜ ì‹œì‘</button>
        </div>

        <!-- ìƒì  í™”ë©´ -->
        <div id="shop-ui" class="overlay" style="display: none;">
            <h1 style="color: #ffd700;">ë§ˆë²• ìƒì </h1>
            <div class="shop-items">
                <div class="shop-item">
                    <h3>ê¸´ ì¹¼</h3>
                    <p>ë²”ìœ„ ì¦ê°€</p>
                    <button onclick="buyWeapon('longsword', 100)">ğŸ’° 100</button>
                </div>
                <div class="shop-item">
                    <h3>ê°•ì²  ë„ë¼</h3>
                    <p>ëŒ€ë¯¸ì§€ ê°•í™”</p>
                    <button onclick="buyWeapon('axe', 250)">ğŸ’° 250</button>
                </div>
                <div class="shop-item">
                    <h3>ì „ì„¤ì˜ ê²€</h3>
                    <p>ì´ˆê°•ë ¥</p>
                    <button onclick="buyWeapon('legend', 500)">ğŸ’° 500</button>
                </div>
            </div>
            <button onclick="nextStage()" style="background: #555; margin-top: 40px;">ë‹¤ìŒ ìŠ¤í…Œì´ì§€ë¡œ</button>
        </div>

        <!-- ê²Œì„ ì˜¤ë²„ í™”ë©´ -->
        <div id="game-over" class="overlay" style="display: none;">
            <h1 id="fail-title" style="font-size: 60px; color: #ff0040;">GAME OVER</h1>
            <p id="fail-msg">ìš©ì‚¬ê°€ ì“°ëŸ¬ì¡ŒìŠµë‹ˆë‹¤...</p>
            <button onclick="location.reload()">ë‹¤ì‹œ ì‹œì‘</button>
        </div>
    </div>

    <!-- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cannon.js/0.6.2/cannon.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- ê²Œì„ ë¡œì§ ìŠ¤í¬ë¦½íŠ¸ ì—°ê²° -->
    <script src="js/game.js"></script>
</body>
</html>
